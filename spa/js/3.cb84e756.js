(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"20a1":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6 text-center"},[e._v("- "+e._s(e.$t("message.apps"))+" -")])]),a("q-card-section",[a("p",{staticClass:"text-center text-h5 text-weight-medium text-indigo-7"},[e._v(e._s(e.getCmdFeeRes.fee.total/1e8)+" BSV")]),a("p",{staticClass:"text-center text-body2 text-grey-7"},[e._v(e._s(e.$t("message.price")))])]),a("q-card-section",{staticClass:"row justify-between items-baseline"},[a("p",{staticClass:"text-body2 text-grey-7"},[e._v(e._s(e.$t("message.transactionItem"))+"：")]),a("p",{staticClass:"text-h6 text-weight-regular text-grey-9"},[e._v(e._s(e.transactionType))])]),a("q-separator",{attrs:{inset:""}}),a("q-card-section",[a("p",[e._v(e._s(e.$t("message.type"))+"：")]),a("q-radio",{attrs:{val:"privateKeyPay",label:e.$t("message.privateKey")},model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}}),a("q-input",{attrs:{outlined:"",type:e.isPwd?"password":"text",disable:"walletPay"===e.payment,placeholder:e.$t("message.privateKey")},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.tempPrivateKey,callback:function(t){e.tempPrivateKey=t},expression:"tempPrivateKey"}})],1),a("q-card-section",{staticClass:"items-center text-weight-regular",class:{"text-positive":e.success,"text-orange-9":!e.success}},[e._v("\n    "+e._s(e.message)+"\n    "),e.success?a("p",{staticStyle:{"word-wrap":"break-word","word-break":"break-all"}},[e._v(e._s(e.sendCmdRes.message))]):e._e()]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("message.cancel")}}),a("q-btn",{attrs:{flat:"",label:e.$t("message.confirm"),loading:e.loading},on:{click:e.handlePay}})],1)],1)},s=[],n=(a("386d"),a("2f62")),r=a("fa7d"),o={name:"Pay",props:["getCmdFeeRes","cmd","action","privateKey"],data:function(){return{isPwd:!0,payment:"privateKeyPay",success:!1,transactionSucceeded:this.$t("message.transactionSucceeded"),paymentFailed:this.$t("message.paymentFailed"),tempPrivateKey:this.cmd.privateKey,sendCmdRes:{},message:null,loading:!1}},computed:Object(n["b"])({transactionType:function(e){return e.search.transactionType},queryNid:function(e){return e.search.queryNid},searchResult:function(e){return e.search.searchResult}}),methods:{handlePay:function(){if(this.success)this.closePayForm();else{this.loading=!0;var e=this.cmd.privateKey,t=this.tempPrivateKey,a=this;e===t&&Object(r["c"])(this.cmd,(function(e){var t=e.code;a.loading=!1,0===t?(a.sendCmdRes=e,a.message=a.transactionSucceeded,a.success=!0):(a.message=a.paymentFailed,a.success=!1)}))}},closePayForm:function(){this.$emit("closePayForm")}}},c=o,l=a("2877"),d=a("eebe"),m=a.n(d),u=a("f09f"),h=a("a370"),p=a("eb85"),f=a("3786"),y=a("27f9"),v=a("0016"),b=a("4b7e"),g=a("9c40"),w=a("7f67"),C=Object(l["a"])(c,i,s,!1,null,null,null);t["a"]=C.exports;m()(C,"components",{QCard:u["a"],QCardSection:h["a"],QSeparator:p["a"],QRadio:f["a"],QInput:y["a"],QIcon:v["a"],QCardActions:b["a"],QBtn:g["a"]}),m()(C,"directives",{ClosePopup:w["a"]})},"7e5a":function(e,t,a){},"7ef6":function(e,t,a){},b2f9:function(e,t,a){"use strict";var i=a("7e5a"),s=a.n(i);s.a},bac9:function(e,t,a){"use strict";var i=a("fd3f"),s=a.n(i);s.a},d0d1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-xs-11 col-sm-10 col-md-8"},[a("div",{staticClass:"row q-pa-md q-mb-md justify-between bg-white items-baseline"},[a("p",{staticClass:"text-subtitle2"},[e._v(e._s(e.searchResult.obj.nid))]),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mr-md detail-action-btn",attrs:{"text-color":"primary",label:e.$t("message.refresh")},on:{click:e.onRefresh}}),a("q-btn",{staticClass:"detail-action-btn",attrs:{color:"primary","text-color":"white",label:e.$t("message.trade")},on:{click:e.onTransfer}})],1)]),a("div",{staticClass:"q-pa-md q-mb-md bg-white"},[a("div",{staticClass:"row q-mb-md justify-between"},[a("p",{staticClass:"text-subtitle2 items-center"},[e._v(e._s(e.$t("message.owner")))]),a("p",{staticClass:"text-subtitle2"},[e._v(e._s(e.searchResult.obj.owner))])]),a("div",{staticClass:"row q-mb-md justify-between"},[a("p",{staticClass:"q-mt-md text-subtitle2"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.$t("message.expire"))+"\n\t\t\t\t\t\t\t\t"),a("span",{staticClass:"text-grey-5 text-body2"},[e._v(e._s(e.expiredDate))])]),a("q-btn",{staticClass:"detail-action-btn",attrs:{color:"primary","text-color":"white",label:e.$t("message.renew")},on:{click:e.onRenew}})],1),a("div",{staticClass:"row q-mb-md justify-between"},[a("p",{staticClass:"q-mt-md text-subtitle2"},[e._v(e._s(e.$t("message.admins")))]),a("q-btn",{staticClass:"detail-action-btn",attrs:{color:"primary","text-color":"white",disable:"",label:e.$t("message.setup")},on:{click:e.onAdmin}})],1),a("div",{staticClass:"row q-mb-md justify-between"},[a("p",{staticClass:"q-mt-md text-subtitle2"},[e._v(e._s(e.$t("message.subDomain")))]),a("q-btn",{staticClass:"detail-action-btn",attrs:{color:"primary","text-color":"white",label:e.$t("message.add")},on:{click:e.onAddChildDomain}})],1),a("div",{staticClass:"q-pa-md row items-start q-gutter-md"},e._l(e.searchResult.obj.keys,(function(t,i,s){return a("div",{key:s,staticClass:"col-12",on:{click:function(a){return e.handleChildDomainUpdateClick(t,i)}}},[a("div",{staticClass:"row justify-between"},[a("p",{staticClass:"text-grey-8 text-h6"},[a("span",{staticClass:"line q-mr-md items-center text-center"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"12",viewBox:"0 0 12 12",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),a("path",{attrs:{d:"M3 3h18v2H3z"}})])]),e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(i)+"\n\t\t\t\t\t\t\t\t\t")]),a("p",{staticClass:"text-grey-6 ellipsis col-6"},[e._v(e._s(t))])])])})),0),a("div",{staticClass:"row q-mb-md justify-between"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"row q-pa-md bg-white"},[a("p",{staticClass:"text-center text-h6 text-weight-medium col-12"},[e._v("- "+e._s(e.$t("message.apps"))+" -")]),a("q-btn",{attrs:{color:"primary","text-color":"white",disable:"",label:"DNS管理",to:{name:"dns"}}})],1)])])]),a("q-dialog",{model:{value:e.showTransferForm,callback:function(t){e.showTransferForm=t},expression:"showTransferForm"}},[a("div",{staticClass:"row"},[a("transfer-form",{on:{transferDataComplete:e.transferDataComplete,acceptDataComplete:e.acceptDataComplete}})],1)]),a("q-dialog",{attrs:{persistent:""},model:{value:e.showPayForm,callback:function(t){e.showPayForm=t},expression:"showPayForm"}},[a("div",{staticClass:"row"},[a("pay-form",{attrs:{cmd:e.cmd,action:e.action,getCmdFeeRes:e.getCmdFeeRes,transaction:e.transaction},on:{closePayForm:e.closePayForm}})],1)]),a("q-dialog",{model:{value:e.showPayFormWithoutVerification,callback:function(t){e.showPayFormWithoutVerification=t},expression:"showPayFormWithoutVerification"}},[a("div",{staticClass:"row"},[a("pay-form-without-verification",{attrs:{cmd:e.cmd,action:e.action,getCmdFeeRes:e.getCmdFeeRes,transaction:e.transaction},on:{closePayFormWithoutVerification:e.closePayFormWithoutVerification}})],1)]),a("q-dialog",{model:{value:e.showChildDomainUpdate,callback:function(t){e.showChildDomainUpdate=t},expression:"showChildDomainUpdate"}},[a("child-domain-update",{attrs:{childDomainName:e.childDomainName,childDomainValue:e.childDomainValue},on:{hideChildDomainUpdate:e.hideChildDomainUpdate}})],1),a("q-dialog",{model:{value:e.showAddChildDomain,callback:function(t){e.showAddChildDomain=t},expression:"showAddChildDomain"}},[a("add-child-domain",{on:{hideAddChildDomain:e.hideAddChildDomain}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.showVerificationForm,callback:function(t){e.showVerificationForm=t},expression:"showVerificationForm"}},[a("verification-form",{attrs:{action:e.action},on:{hideVerificationForm:e.hideVerificationForm,showPay:e.showPay,showPayWithoutVerification:e.showPayWithoutVerification}})],1)],1)},s=[],n=(a("386d"),a("2f62")),r=a("bd4c"),o=a("fa7d"),c=a("20a1"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6 text-center"},[e._v("- "+e._s(e.$t("message.apps"))+" -")])]),a("q-card-section",[a("p",{staticClass:"text-center text-h5 text-weight-medium text-indigo-7"},[e._v(e._s(e.getCmdFeeRes.fee.total/1e8)+" BSV")]),a("p",{staticClass:"text-center text-body2 text-grey-7"},[e._v(e._s(e.$t("message.price")))])]),a("q-card-section",{staticClass:"row justify-between items-baseline"},[a("p",{staticClass:"text-body2 text-grey-7"},[e._v(e._s(e.$t("message.transactionItem"))+"：")]),a("p",{staticClass:"text-h6 text-weight-regular text-grey-9"},[e._v(e._s(e.transactionType))])]),a("q-card-section",{staticClass:"items-center text-weight-regular",class:{"text-positive":e.success,"text-orange-9":!e.success}},[e._v("\n    "+e._s(e.message)+"\n    "),e.success?a("p",{staticStyle:{"word-wrap":"break-word","word-break":"break-all"}},[e._v(e._s(e.sendCmdRes.message))]):e._e()]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:e.$t("message.confirm"),loading:e.loading},on:{click:e.handlePay}})],1)],1)},d=[],m={name:"PayWithoutVerification",props:["getCmdFeeRes","cmd","action"],data:function(){return{success:!1,message:null,sendCmdRes:{},transactionSucceeded:this.$t("message.transactionSucceeded"),paymentFailed:this.$t("message.paymentFailed"),loading:!1}},computed:Object(n["b"])({transactionType:function(e){return e.search.transactionType},queryNid:function(e){return e.search.queryNid},searchResult:function(e){return e.search.searchResult}}),methods:{handlePay:function(){if(this.success)this.closePayFormWithoutVerification();else{this.loading=!0;var e=this.cmd,t=this;Object(o["c"])(e,(function(e){var a=e.code;t.loading=!1,0===a?(t.sendCmdRes=e,t.message=t.transactionSucceeded,t.success=!0):t.message=t.paymentFailed}))}},closePayFormWithoutVerification:function(){this.$emit("closePayFormWithoutVerification")}}},u=m,h=a("2877"),p=a("eebe"),f=a.n(p),y=a("f09f"),v=a("a370"),b=a("4b7e"),g=a("9c40"),w=Object(h["a"])(u,l,d,!1,null,null,null),C=w.exports;f()(w,"components",{QCard:y["a"],QCardSection:v["a"],QCardActions:b["a"],QBtn:g["a"]});var x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("p",{staticClass:"text-center text-h6"},[e._v("- "+e._s(e.$t("message.transferDomain"))+" -")])]),a("q-card-section",[a("q-tabs",{staticClass:"text-primary",attrs:{"no-caps":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"transfer",label:e.$t("message.transfer")}}),a("q-tab",{attrs:{name:"accept",label:e.$t("message.receive")}})],1),a("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-mb-md",attrs:{name:"transfer"}},[a("q-input",{staticClass:"q-mb-md",attrs:{label:e.$t("message.receiverAddress"),outlined:"","stack-label":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}}),a("q-input",{staticClass:"q-mb-md",attrs:{label:e.$t("message.price"),outlined:"","stack-label":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.askedPrice,callback:function(t){e.askedPrice=t},expression:"askedPrice"}}),a("q-input",{attrs:{filled:"",type:"date",hint:e.$t("message.expireDate"),rules:[function(e){return!!e||"Field is required"}]},model:{value:e.expireDate,callback:function(t){e.expireDate=t},expression:"expireDate"}})],1),a("q-tab-panel",{attrs:{name:"accept"}},[a("q-input",{staticClass:"q-mb-md",attrs:{label:e.$t("message.transactionTX"),outlined:"","stack-label":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.txHash,callback:function(t){e.txHash=t},expression:"txHash"}})],1)],1)],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{label:e.$t("message.confirm")},on:{click:e.handleSubmit}})],1)],1)},q=[],F=(a("a481"),{name:"TransferForm",data:function(){return{tab:"transfer",receiver:null,askedPrice:null,txHash:null,cmd:null,expireDate:""}},computed:Object(n["b"])({queryNid:function(e){return e.search.queryNid}}),methods:{handleSubmit:function(){var e=this.tab;if("transfer"===e){var t=this.receiver,a=this.askedPrice,i=this.expireDate;if(!t||!a||!i)return;this.$store.commit("detail/setTransferData",{action:"transfer",buyer:t,price:a,expire:Date.parse(i.replace(/-/g,"/"))}),this.$emit("transferDataComplete")}else{var s=this.txHash;if(!s)return;this.$store.commit("detail/setAcceptData",{action:"accept",txHash:s}),this.$emit("acceptDataComplete")}}}}),k=F,_=(a("b2f9"),a("429b")),D=a("7460"),$=a("adad"),P=a("823b"),V=a("27f9"),R=Object(h["a"])(k,x,q,!1,null,null,null),K=R.exports;f()(R,"components",{QCard:y["a"],QCardSection:v["a"],QTabs:_["a"],QTab:D["a"],QTabPanels:$["a"],QTabPanel:P["a"],QInput:V["a"],QCardActions:b["a"],QBtn:g["a"]});var Q=a("fe3c"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",{staticClass:"q-pb-none"},[a("p",{staticClass:"self-center"},[e._v(e._s(e.$t("message.name")))]),a("q-input",{staticClass:"col-10",attrs:{outlined:"",disable:"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("p",[e._v(e._s(e.$t("message.value")))]),a("q-input",{attrs:{outlined:"",type:"textarea",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-bold"},[e._v(e._s(e.$t("message.noteTitle")))]),a("p",{staticClass:"text-bold"},[e._v(e._s(e.$t("message.noteDetail")))])]),a("q-card-section",{staticClass:"q-pb-none"},[a("q-dialog",{attrs:{persistent:""},model:{value:e.showVerificationForm,callback:function(t){e.showVerificationForm=t},expression:"showVerificationForm"}},[a("div",{staticClass:"row"},[a("verification-form",{attrs:{action:e.action},on:{hideVerificationForm:e.hideVerificationForm}})],1)])],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{label:e.$t("message.update"),flat:""},on:{click:e.handleUpdate}})],1)],1)},N=[],S={name:"ChildDomainUpdate.vue",props:["childDomainName","childDomainValue"],components:{"verification-form":Q["a"]},data:function(){return{showVerificationForm:!1,action:"key",success:!1,cmd:null,key:this.childDomainName,val:this.childDomainValue}},methods:{handleUpdate:function(){var e=this.key,t=this.val;this.$emit("hideChildDomainUpdate"),this.$store.commit("detail/setKeyData",{key:e,val:t})},hideVerificationForm:function(e){this.cmd=e,this.showVerificationForm=!1,this.success=!0}}},T=S,A=(a("bac9"),a("24e8")),O=Object(h["a"])(T,j,N,!1,null,null,null),W=O.exports;f()(O,"components",{QCard:y["a"],QCardSection:v["a"],QInput:V["a"],QDialog:A["a"],QCardActions:b["a"],QBtn:g["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",{staticClass:"q-pb-none"},[a("p",[e._v(e._s(e.$t("message.name")))]),a("q-input",{attrs:{outlined:"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("p",[e._v(e._s(e.$t("message.value")))]),a("q-input",{attrs:{outlined:"",type:"textarea",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("p",{staticClass:"text-bold"},[e._v(e._s(e.$t("message.noteTitle")))]),a("p",{staticClass:"text-bold"},[e._v(e._s(e.$t("message.noteDetail")))])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{label:e.$t("message.save"),flat:""},on:{click:e.handleSave}})],1)],1)},I=[],G={data:function(){return{showVerificationForm:!1,action:"key",success:!1,cmd:null,key:this.childDomainName,val:this.childDomainValue}},methods:{handleSave:function(){var e=this.key,t=this.val;this.$emit("hideAddChildDomain"),this.$store.commit("detail/setKeyData",{key:e,val:t})}}},H=G,B=Object(h["a"])(H,U,I,!1,null,null,null),E=B.exports;f()(B,"components",{QCard:y["a"],QCardSection:v["a"],QInput:V["a"],QCardActions:b["a"],QBtn:g["a"]});var M=new NIDReader,Y={name:"Detail",components:{"pay-form":c["a"],"pay-form-without-verification":C,"transfer-form":K,"verification-form":Q["a"],"child-domain-update":W,"add-child-domain":E},data:function(){return{showTransferForm:!1,showPayForm:!1,showPayFormWithoutVerification:!1,showVerificationForm:!1,showChildDomainUpdate:!1,showAddChildDomain:!1,transaction:null,privateKey:null,action:null,getCmdFeeRes:{},hasGetFee:!1,cmd:null,childDomainName:null,childDomainValue:null}},computed:Object(n["b"])({searchResult:function(e){return e.search.searchResult},expiredDate:function(e){return r["a"].formatDate(e.search.searchResult.obj.expire,"DD/MMM/YYYY")},queryNid:function(e){return e.search.queryNid}}),methods:{handleChildDomainUpdateClick:function(e,t){this.showChildDomainUpdate=!0,this.childDomainName=t,this.childDomainValue=e},hideVerificationForm:function(){this.showVerificationForm=!1},showPay:function(e){var t=e.cmd,a=e.getCmdFeeRes;this.cmd=t,this.getCmdFeeRes=a,this.showVerificationForm=!1,this.showPayForm=!0},showPayWithoutVerification:function(e){var t=e.cmd,a=e.getCmdFeeRes;this.cmd=t,this.getCmdFeeRes=a,this.showVerificationForm=!1,this.showPayFormWithoutVerification=!0},onTransfer:function(){this.showTransferForm=!0},onRefresh:function(){var e=this.queryNid,t=this;M.readDomain(e,(function(e){var a=e.code;0===a?t.$store.commit("search/setSearchResult",e):t.$q.notify({timeout:1e3,position:"center",message:"刷新失败"})}))},transferDataComplete:function(){this.showTransferForm=!1,this.showVerificationForm=!0,this.action="transfer",this.$store.commit("search/setTransactionType",this.$t("message.transferDomain"))},acceptDataComplete:function(){this.action="accept",this.showTransferForm=!1,this.showVerificationForm=!0,this.$store.commit("search/setTransactionType",this.$t("message.receiveDomain"))},onRenew:function(){this.action="register",this.showVerificationForm=!0},onAdmin:function(){this.action="admin",this.showVerificationForm=!0},onAddChildDomain:function(){this.action="key",this.showAddChildDomain=!0},hideChildDomainUpdate:function(){this.action="key",this.showChildDomainUpdate=!1,this.showVerificationForm=!0},hideAddChildDomain:function(){this.action="key",this.showAddChildDomain=!1,this.showVerificationForm=!0},handleRegister:function(e){var t=this,a=e.action,i=e.privateKey,s=Object(o["a"])(a,{privateKey:i});Object(o["b"])(s,(function(e){t.getCmdFeeRes=e,t.showPayForm=!t.showPayForm}),t)},closePayForm:function(){this.showPayForm=!1},closePayFormWithoutVerification:function(){this.showPayFormWithoutVerification=!1}}},z=Y,J=(a("eb4f"),a("9989")),L=Object(h["a"])(z,i,s,!1,null,null,null);t["default"]=L.exports;f()(L,"components",{QPage:J["a"],QBtn:g["a"],QDialog:A["a"]})},eb4f:function(e,t,a){"use strict";var i=a("7ef6"),s=a.n(i);s.a},fa7d:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r}));var i=new NIDWriter;function s(e,t){var a=t.privateKey,i=t.queryNid,s=null;if(null===a||0===a.length)return s;if("register"===e&&(s={command:"register",privateKey:a,domain:i,attribute:{}}),"admin"===e){var n=t.adminList;s={command:"admin",privateKey:a,domain:i,attribute:{admins:n}}}if("key"===e){var r=t.key,o=t.val;s={command:"key",privateKey:a,domain:i,key:r,attribute:{value:o}}}if("transfer"===e){var c=t.buyer,l=t.price,d=t.expire,m=t.privateKey,u=t.queryNid;s={command:"transfer",privateKey:m,domain:u,attribute:{buyer:c,price:l,expire:d}}}if("accept"===e){var h=t.txHash;s={command:"accept",privateKey:a,domain:i,attribute:{tx:h}}}return console.log("getCmd ".concat(e," = ").concat(JSON.stringify(s))),s}function n(e,t,a){if(null!==e)try{i.getFee(e,(function(e){t(e)}))}catch(s){s.message;console.log("Invalid transaction output record: ".concat(s.message))}}function r(e,t){if(null!==e)try{i.writeCommand(e,(function(e){t(e)}))}catch(a){a.message;console.log("Invalid transaction output record: ".concat(a.message))}}},fd3f:function(e,t,a){},fe3c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6 text-center"},[e._v("- "+e._s(e.$t("message.authentication"))+" -")])]),a("q-card-section",[a("q-radio",{attrs:{val:"privateKeyPay",label:e.$t("message.privateKey")},model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}}),a("q-input",{attrs:{autofocus:"",type:e.isPwd?"password":"text",placeholder:e.$t("message.privateKey")},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.showVerificationForm=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.privateKey,callback:function(t){e.privateKey=t},expression:"privateKey"}})],1),a("q-card-section",{class:{"text-positive":e.success,"text-orange-9":!e.success}},[e._v("\n    "+e._s(e.message)+"\n    "),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.verified,expression:"verified"}],attrs:{outline:"",type:"button","text-color":"primary",label:e.hasView?e.$t("message.hide"):e.$t("message.view"),size:"sm"},on:{click:e.handleViewVerificationMessage}}),a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.showGetFeeRes,expression:"showGetFeeRes"}],staticStyle:{"word-wrap":"break-word","word-break":"break-all"}},[e._v("\n      "+e._s(e.getCmdFeeRes.message)+"\n    ")])],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("message.cancel")}}),a("q-btn",{attrs:{flat:"",label:e.$t("message.confirm"),loading:e.loading},on:{click:e.handleVerification}})],1)],1)},s=[],n=(a("386d"),a("fa7d")),r=a("2f62"),o={name:"verification",props:["action"],data:function(){return{payment:"privateKeyPay",showVerificationForm:!1,isPwd:!0,privateKey:null,success:!1,message:null,loading:!1,cmd:null,showGetFeeRes:!1,getCmdFeeRes:{},hasView:!1,verified:!1,authenticationSucceeded:this.$t("message.authenticationSucceeded"),authenticationFailed:this.$t("message.authenticationFailed")}},computed:Object(r["b"])({transferData:function(e){return e.detail.transferData},acceptData:function(e){return e.detail.acceptData},keyData:function(e){return e.detail.keyData},queryNid:function(e){return e.search.queryNid},transactionType:function(e){return e.search.transactionType}}),methods:{handleVerification:function(){var e=this.success,t=this.privateKey,a=this.action,i=this.cmd,s=this.getCmdFeeRes,n=this.transactionType;if(t)if(e)this.privateKey=t,n===this.$t("message.domainRenew")?this.$emit("showPayWithoutVerification",{cmd:i,getCmdFeeRes:s,privateKey:t}):this.$emit("showPay",{cmd:i,getCmdFeeRes:s,privateKey:t});else switch(a){case"register":this.handleRegister(t);break;case"transfer":this.handleTransfer(t);break;case"accept":this.handleAccept(t);break;case"admin":this.handleAdmin(t);break;case"key":this.handleKey(t);break;default:break}},cancel:function(){this.$emit("hideVerificationForm")},handleViewVerificationMessage:function(){this.hasView?(this.showGetFeeRes=!1,this.hasView=!1):(this.showGetFeeRes=!0,this.hasView=!0)},handleRegister:function(e){var t=this.queryNid,a=Object(n["a"])("register",{privateKey:e,queryNid:t});this.loading=!0,this.goGetCmdFee(a)},handleTransfer:function(e){var t=this.queryNid,a=this.transferData,i=a.buyer,s=a.price,r=a.expire,o=Object(n["a"])("transfer",{privateKey:e,queryNid:t,buyer:i,price:s,expire:r});this.loading=!0,this.goGetCmdFee(o)},handleAccept:function(e){var t=this.queryNid,a=this.acceptData.txHash,i=Object(n["a"])("accept",{privateKey:e,queryNid:t,txHash:a});this.loading=!0,this.goGetCmdFee(i)},handleAdmin:function(e){},handleKey:function(e){var t=this.queryNid,a=this.keyData,i=a.key,s=a.val,r=Object(n["a"])("key",{key:i,val:s,privateKey:e,queryNid:t});this.loading=!0,this.goGetCmdFee(r)},goGetCmdFee:function(e){var t=this;Object(n["b"])(e,(function(a){var i=a.code;t.loading=!1,t.getCmdFeeRes=a,t.verified=!0,0===i?(t.cmd=e,t.success=!0,t.message=t.authenticationSucceeded):t.message=t.authenticationFailed}))}}},c=o,l=a("2877"),d=a("eebe"),m=a.n(d),u=a("f09f"),h=a("a370"),p=a("3786"),f=a("27f9"),y=a("0016"),v=a("9c40"),b=a("4b7e"),g=a("7f67"),w=Object(l["a"])(c,i,s,!1,null,null,null);t["a"]=w.exports;m()(w,"components",{QCard:u["a"],QCardSection:h["a"],QRadio:p["a"],QInput:f["a"],QIcon:y["a"],QBtn:v["a"],QCardActions:b["a"]}),m()(w,"directives",{ClosePopup:g["a"]})}}]);